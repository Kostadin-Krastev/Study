<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Context</title>
</head>

<body>
    <h1>Global Context</h1>

    <script>
        // Global Context
        console.log(this);
        // ----------------------------------

        // Global function invocation
        /*
        When a regular (non-arrow) function is invoked directly without being bound to an object or called as a method of an object, its this context defaults to:
        
        - In non-strict mode: The global object (window in browsers, global in Node.js).
        - In strict mode: undefined.
        */
        function globalFunction() {
            console.log(this);
        }
        // --------------------------------------------

        // Method invocation
        const employee = {
            name: 'Pesho',
            work() {
                console.log(`${employee.name} - work, work, work, work, work....`);
                console.log(this);
            }
        }
        /*
      ВАЖНО!!!
      Контекста на дадена функция зависи от начина, по който функцията бива извикана
      */
        employee.work() // in this case the function context is the object employee 

        // But if we take the method work, and sore it in a variable, and the call the function using variable, then the function context become Global

        // Execute function as a Global execution
        const work = employee.work;
        work() // the context is Global


    </script>
</body>

</html>